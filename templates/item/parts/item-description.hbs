<div class="description">
  <div class="details-column">
    <div class="item-details">
      <div class="row">
        <label>Quantity</label>
        <input class="right-part-row" type="text" name="system.quantity" value="{{system.quantity}}" data-dtype="Number" placeholder="-">
      </div>
      <div class="row">
        <label>Weight</label>
        <input class="right-part-row" type="text" name="system.weight" value="{{system.weight}}" data-dtype="Number" placeholder="-">
      </div>
      <div class="row">
        <label>Price</label>
        <div class="right-part-row">
          <input type="text" name="system.price.value" value="{{system.price.value}}"  data-dtype="Number" placeholder="-">
          <select name="system.price.currency">
            {{selectOptions @root.config.currencyTypes selected=system.price.currency}}
          </select>
        </div>
      </div>
      <div class="margin-top-5">
        <label>Rarity</label>
        <select class="rarity wide-select" name="system.rarity">
          {{selectOptions @root.config.rarities selected=system.rarity blank=""}}
        </select>
      </div>
      <div class="margin-top-5">
        <label>Source</label>
        <input class="wide-input" type="text" name="system.source" value="{{system.source}}" placeholder="-">
      </div>   
      <div class="margin-top-5">
        <label>Table Name</label>
        <input class="wide-input" type="text" name="system.tableName" value="{{system.tableName}}" placeholder="-">
      </div> 
    </div>
    {{#if system.properties}}
    <div class="item-properties">
      <label>Properties</label>
      {{#each system.properties as |property key|}}
      {{#if property.active}}
      <div class="property">
        <span>{{labelFromKey key @root.config.properties}}</span>
        {{#if (arrayIncludes key arrayString="ammo thrown")}}
        <span>({{@root.system.range.normal}}/{{@root.system.range.max}})</span>
        {{/if}}
        {{#if (arrayIncludes key arrayString="reload")}}
        <span>({{@root.system.properties.reload.value}})</span>
        {{/if}}
        {{#if (arrayIncludes key arrayString="requirement")}}
        <span><br>[{{@root.system.properties.requirement.number}} {{labelFromKey @root.system.properties.requirement.attribute @root.config.attributes}}]</span>
        {{/if}}
        {{#if (arrayIncludes key arrayString="damageReduction")}}
        <span>({{@root.system.properties.damageReduction.value}})</span>
        {{/if}}
      </div>
      {{/if}}
      {{/each}}
    </div>
    {{/if}}
  </div>
  <div class="description-column">
    <div class="flavor-text">
      <label>Flavor Text</label>
      {{!-- To render inline rolls in a TinyMCE editor, you need to pass the parent actor's (if any) roll data to the rollData prop. --}}
      {{editor system.flavorText target="system.flavorText" rollData=rollData button=true owner=owner editable=editable class="min-h"}}
    </div>
    <div class="description-text">
      <label>Description</label>
      {{#if system.statuses}}
        {{#if system.statuses.identified}} 
        {{editor system.description target="system.description" rollData=rollData button=true owner=owner editable=editable}}
        {{else}}
        <span class="unidentified"><br>UNIDENTIFIED</span>
        {{/if}}
      {{else}}
      {{editor system.description target="system.description" rollData=rollData button=true owner=owner editable=editable}}
      {{/if}}
    </div>
    {{#if (notEmptyString system.descriptions.success)}}
    <div class="extra-description">
      <label>On Success Save:&nbsp</label>
      <span>{{system.descriptions.success}}</span>
    </div>
    {{/if}}
    {{#if (notEmptyString system.descriptions.fail)}}
    <div class="extra-description">
      <label>On Failed Save:&nbsp</label>
      <span>{{system.descriptions.fail}}</span>
    </div>
    {{/if}}
    {{#if (notEmptyString system.descriptions.heavy)}}
    <div class="extra-description">
      <label>On Heavy Hit:&nbsp</label>
      <span>{{system.descriptions.heavy}}</span>
    </div>
    {{/if}}
    {{#if (notEmptyString system.descriptions.brutal)}}
    <div class="extra-description">
      <label>On Brutal Hit:&nbsp</label>
      <span>{{system.descriptions.brutal}}</span>
    </div>
    {{/if}}
  </div>
</div>

